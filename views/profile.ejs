<!DOCTYPE html>
<html lang="en">
	<head>
		<% include ./head %>

		<script>
		  function isNumber(evt) {
		      evt = (evt) ? evt : window.event;
		      var charCode = (evt.which) ? evt.which : evt.keyCode;
		      if (charCode > 31 && (charCode < 48 || charCode > 57)) {
		          return false;
		      }
		      return true;
		  }                      
		</script>

	</head>


	<body class="body full-body" ng-app="airBnB" >

	<!-- Header -->
	<header><% include ./header %></header>
	<!-- Main -->
	<main ng-controller="profile" ng-cloak ng-init="init('<%= data %>')">
		<div class="row">
			<div class="col-xs-12 fixed-bar">
				<div class="row nav-body">
					<div class="col-xs-1"></div>
					<div class="col-xs-10 subnav">
						<ul class="subnav-list">
							<li><a href="" aria-selected"true" class="subnav-item" ng-class="{'profile_tab':'subnav-item-border'}[active_tab]" ng-click="active_tab = 'profile_tab'" id="profile">Profile</a></li>
							<li><a href="" aria-selected"true" class="subnav-item" ng-class="{'media_tab':'subnav-item-border'}[active_tab]" ng-click="active_tab = 'media_tab'" id="trips">Profile Picture and Video</a></li>
							<li><a href="" aria-selected"true" ng-show="isSameUser" class="subnav-item" ng-class="{'account_tab':'subnav-item-border'}[active_tab]" ng-click="active_tab = 'account_tab'" id="account">Account</a></li>
							<li><a href="" aria-selected"true" ng-show="isSameUser" class="subnav-item" ng-class="{'security_tab':'subnav-item-border'}[active_tab]" ng-click="active_tab = 'security_tab'" id="account">Security</a></li>
							<li><a href="" aria-selected"true" ng-show="isSameUser" class="subnav-item" ng-class="{'properties_tab':'subnav-item-border'}[active_tab]" ng-click="active_tab = 'properties_tab'" id="trips">Your Properties</a></li>
							<li><a href="" aria-selected"true" ng-hide="isSameUser" class="subnav-item" ng-class="{'properties_tab':'subnav-item-border'}[active_tab]" ng-click="active_tab = 'properties_tab'" id="trips">{{data[0][0].f_name}}'s Properties</a></li>
							<li><a href="" aria-selected"true" ng-show="isSameUser" class="subnav-item" ng-class="{'listings_tab':'subnav-item-border'}[active_tab]" ng-click="initializeMaps()" id="trips">Your Listings</a></li>
							<li><a href="" aria-selected"true" ng-hide="isSameUser" class="subnav-item" ng-class="{'listings_tab':'subnav-item-border'}[active_tab]" ng-click="initializeMaps()" id="trips">{{data[0][0].f_name}}'s Listings</a></li>
							<li><a href="" aria-selected"true" ng-show="isSameUser" class="subnav-item" ng-class="{'trips_tab':'subnav-item-border'}[active_tab]" ng-click="active_tab = 'trips_tab'" id="trips">Your Trips</a></li>
							<li><a href="" aria-selected"true" ng-show="isSameUser" class="subnav-item" ng-class="{'hostings_tab':'subnav-item-border'}[active_tab]" ng-click="active_tab = 'hostings_tab'" id="trips">Your Hostings</a></li>
							<li><a href="" aria-selected"true" ng-show="isSameUser" class="subnav-item" ng-class="{'host_tab':'subnav-item-border'}[active_tab]" ng-click="active_tab = 'host_tab'" id="host">Host</a></li>
						</ul>
					</div>
					<div class="col-xs-1"></div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<div class="row">
					<div class="col-xs-1"></div>
					<div class="col-xs-10 profile-body">
						<div class="row" ng-show="active_tab === 'profile_tab'">
							<div class="row">
								<div class="col-xs-4"></div>
								<div class="col-xs-4">
									<div style="border: 2px solid green;border-radius: 5px;opacity: 1;font-size: 20px;color: green;width: 450px;height: 60px;" class="alert alert-warning alert-dismissable close col-xs-6 text-center" data-dismiss="alert" ng-show="profile_updated" ng-click="profile_updated = false">	
										Profile updated successfully !!<br>
									</div>
									<div style="border: 2px solid red;border-radius: 5px;opacity: 1;font-size: 20px;color: red;width: 450px;height: 60px;" class="alert alert-warning alert-dismissable close col-xs-6 text-center" data-dismiss="alert" ng-show="all_fields" ng-click="all_fields = false">	
										Check your fields again !!<br>
									</div>
								</div>
								<div class="col-xs-4"></div>
							</div>
							<div class="row item-body">
								<div class="row item-head">Profile Details</div>
									<div class="row item-content" style="padding:20px;">
									<div class="row profile-bottom-space">
	
										<div class="col-xs-3">
											<span class="profile-left-text">First Name *</span>
										</div>
										<div class="col-xs-9">
											<input ng-show="isSameUser" type="text" class="profile-large-box" ng-model="data[0][0].f_name">
											<label ng-hide="isSameUser" class="profile-large-box" style="line-height: 36px; font-weight: normal">{{data[0][0].f_name}}</label>
	
										</div>
									</div>
	
									<div class="row profile-bottom-space">
										<div class="col-xs-3">
											<span class="profile-left-text">Last Name *</span>
										</div>
										<div class="col-xs-9">
											<input ng-show="isSameUser" type="text" class="profile-large-box" ng-model="data[0][0].l_name">
											<label ng-hide="isSameUser" class="profile-large-box" style="line-height: 36px; font-weight: normal">{{data[0][0].l_name}}</label>
											<div class="profile-info">This is only shared once you have a confirmed booking with another Airbnb user.</div>
										</div>
									</div>
									<div class="row profile-bottom-space">
										<div class="col-xs-3">
											<span class="profile-left-text" ng-show="isSameUser">I Am</span>
											<span class="profile-left-text" ng-hide="isSameUser">Gender</span>
										</div>
										<div class="col-xs-9">
											<select class="gender-box" ng-if="isSameUser" ng-options="gender for gender in genders" ng-model="data[0][0].gender" ></select>
											<label ng-if="!isSameUser" class="profile-large-box" style="line-height: 36px; font-weight: normal">{{data[0][0].gender !== null ? data[0][0].gender : 'Unknown'}}</label>
											<div class="profile-info">We use this data for analysis and never share it with other users.</div>
										</div>
									</div>
									<div class="row profile-bottom-space" ng-show="isSameUser">
										<div class="col-xs-3">
											<span class="profile-left-text">Birth Date</span>
										</div>
										<div class="col-xs-9">
											<select class="month-box" ng-options="month for month in months" data-ng-model="birth_month"></select>
											<select class="date-box" ng-options="date for date in dates" data-ng-model="birth_date"></select>
											<select class="year-box" ng-options="year for year in years" data-ng-model="birth_year"></select>
											<div class="profile-info">The magical day you were dropped from the sky by a stork. We use this data for analysis and never share it with other users.</div>
	
										</div>
									</div>
									<div class="row profile-bottom-space" ng-show="isSameUser">
										<div class="col-xs-3">
											<span class="profile-left-text">Email Address</span>
										</div>
										<div class="col-xs-9">
											<input type="text" class="profile-large-box" ng-model="data[0][0].email">
											<div class="profile-info">We won't share your private email address with other Airbnb users. <a href="" class="learn-more">Learn more.</a></div>
										</div>
									</div>
									<div class="row profile-bottom-space" ng-show="isSameUser">
										<div class="col-xs-3">
											<span class="profile-left-text">Phone Number</span>
										</div>
										<div class="col-xs-9">
											<input type="text" class="profile-large-box" ng-model="data[0][0].phone" ui-us-phone-number>
											<div class="profile-info">This is only shared once you have a confirmed booking with another Airbnb user. This is how we can all get in touch.</div>
										</div>
									</div>
									<div class="row profile-bottom-space" ng-show="isSameUser">
										<div class="col-xs-3">
											<span class="profile-left-text">Address</span>
										</div>
										<div class="col-xs-9">
											<label readonly class="profile-large-box" style="line-height: 36px; font-weight: normal">{{data[0][0].city}}, {{data[0][0].state}}</label>
										</div>
									</div>
									<div class="row profile-bottom-space">
										<div class="col-xs-3">
											<span class="profile-left-text" ng-show="isSameUser">New Address</span>
											<span class="profile-left-text" ng-hide="isSameUser">From</span>
										</div>
										<div class="col-xs-9">
	
											<input ng-show="isSameUser" type="text" class="profile-large-box" placeholder="" ng-click="selectCity" ng-autocomplete="address" ng-model="st_address" details="details" options="options">
											<label ng-hide="isSameUser" class="profile-large-box" style="line-height: 36px; font-weight: normal">{{data[0][0].city}} {{data[0][0].state}}</label>
										</div>
									</div>
									<div class="row profile-bottom-space">
										<div class="col-xs-3">
											<span class="profile-left-text" ng-show="isSameUser">Describe Yourself</span>
											<span class="profile-left-text" ng-hide="isSameUser">Description</span>
										</div>
										<div class="col-xs-9">
											<textarea rows="6" cols="50" ng-show="isSameUser" class="profile-describe-box" ng-model="data[0][0].description"></textarea>
											<label ng-hide="isSameUser" class="profile-describe-box" style="line-height: 36px; font-weight: normal">{{data[0][0].description !== null ? data[0][0].description : 'No description provided by the user yet!'}}</label>
											<div class="profile-info" ng-show="isSameUser">Airbnb is built on relationships. Help other people get to know you.</div>
											<div class="profile-info" ng-show="isSameUser">Tell them about the things you like: What are 5 things you can't live without? Share your favorite travel destinations, books, movies, shows, music, food.</div>
											<div class="profile-info" ng-show="isSameUser">Tell them what it's like to have you as a guest or host: What's your style of traveling? Of Airbnb hosting?</div>
											<div class="profile-info" ng-show="isSameUser">Tell them about you: Do you have a life motto?</div>
										</div>
									</div>
									<div class="row profile-bottom-space" ng-hide="isSameUser">
										<div class="col-xs-3">
											<span class="profile-left-text">Average Host Ratings</span>
										</div>
										<div class="col-xs-9">
											<div star-rating ng-model="data[9][0].host_rating" max="5" readonly="true" class="profile-large-box" style="border: none"></div>
										</div>
									</div>
									<div class="row profile-bottom-space" ng-hide="isSameUser">
										<div class="col-xs-3">
											<span class="profile-left-text">Average Travelling Ratings</span>
										</div>
										<div class="col-xs-9">
											<div star-rating ng-model="data[10][0].traveller_rating" max="5" readonly="true" class="profile-large-box" style="border: none"></div>
										</div>
									</div>
									<div class="row" ng-show="isSameUser">
										<button class="btn btn-primary save-button" ng-click="updateProfile()">Save</button>
									</div>
								</div>
							</div>
						</div>
						<div class="row item-body" ng-show="active_tab === 'media_tab'">
							<div class="row item-head">Profile Photo</div>
							<div class="row item-content" style="padding:20px;">
								<div class="row" ng-show="isSameUser">
									<div class="col-xs-4">
										<div class="profile-photo" ng-show="data[7]"><img data-ng-src="data:{{data[7].filetype}};base64,{{data[7].base64}}" alt="Profile" style="height: 100%;"></div>
										<div class="profile-photo glyphicon glyphicon-user no-profile" ng-hide="data[7]"></div>
									</div>
									<div class="col-xs-8">
										<div class="row profile-photo-text">
											<span>Clear frontal face photos are an important way for hosts and guests to learn about each other. It's not much fun to host a landscape! Please upload a photo that clearly shows your face.</span>
										</div>
										<div class="row">
											<div class="col-xs-6">
												<div class="btn btn-primary photo-upload-button">
													<span style="font-weight:bold;">Upload a file from your computer</span>
													<input type="file" ng-model="data[7]" class="profile-photo-upload" name="photo" base-sixty-four-input accept="image/*" minsize="500" maxsize="16000" required>
												</div>
											</div>
											<div class="col-xs-6">
												<div style="margin-top: 60px;">
						  							<button class="btn btn-primary password-button" ng-click="uploadPhoto()">Update Profile Photo</button>
						  						</div>
											</div>
										</div>
									</div>
								</div>
								<div class="row" ng-hide="isSameUser">
									<div class="col-xs-12">
										<div class="profile-photo" ng-show="data[7]" style="margin:auto; display:inherit;"><img data-ng-src="data:{{data[7].filetype}};base64,{{data[7].base64}}" alt="Profile" style="height: 100%;"></div>
										<div class="profile-photo glyphicon glyphicon-user no-profile" ng-hide="data[7]"></div>
									</div>
								</div>
							</div>
						</div>
						<div class="row item-body" ng-show="active_tab === 'media_tab'">
							<div class="row item-head">Profile Video</div>
							<div class="row item-content" style="padding:20px;">
								<div class="row" ng-show="isSameUser">
									<div class="col-xs-6">
										<div class="profile-video-container" ng-hide="data[8]">
											<div class="row no-video-text">
												<div ng-hide="data[8]">You haven't recorded a video profile yet.</div>
												<i class="fa fa-video-camera camera-icon"></i>
											</div>
										</div>
										<div class="row" ng-show="data[8]">
											<video controls src="data:{{data[8].filetype}};base64,{{data[8].base64}}" width="400px" style="margin:auto; display:inherit;align-content: center;"> 
											</video>
										</div>
									</div>
									<div class="col-xs-6" style="padding-left: 20px;">
										<div class="row bottom-space">
											<div class="video-checklist">Video Checklist</div>
											<ul style="padding-left:25px;">
												<li>We love close-ups, but we suggest you sit at arm's length.</li>
												<li>You've got 30 seconds, so do your best to be concise.</li>
												<li>Try to keep the light in front of you, not behind you.</li>
												<li>Look into the camera to create that personal connection.</li>
												<li>You'll get a chance to preview your video before it uploads.</li>
											</ul>
										</div>
										<div class="row">
											<div class="video-checklist">Tell the community a little bit about yourself</div>
											<div style="margin-top:10px;margin-bottom:10px;">Start with your name and answer some of the following questions, or make up some of your own!</div>
											<ul style="padding-left:25px;">
												<li>Where are you from?</li>
												<li>What are some of your interests?</li>
												<li>What do you do in your spare time?</li>
												<li>What is a fun fact about yourself?</li>
												<li>What are some of your favorite things?</li>
											</ul>
										</div>
									</div>
								</div>
								<div class="row video-footer" ng-show="isSameUser">
			  						<div class="col-xs-6" style="padding-right: 120px;">
			  							<div class="btn btn-primary photo-upload-button" style="margin-top: 0px;">
											<span style="font-weight:bold;">Upload a file from your computer</span>
											<input type="file" ng-model="data[8]" class="profile-photo-upload" name="video" base-sixty-four-input accept="video/*" minsize="500" required>
										</div>
			  						</div>
			  						<div class="col-xs-6" style="margin-top: 15px;">
			  							<button class="btn btn-primary password-button" ng-click="uploadVideo()">Upload Profile Video</button>
			  						</div>
			  					</div>
			  					<div class="row" ng-hide="isSameUser">
			  						<div class="profile-video-container" ng-hide="data[8]" style="margin:auto; display:inherit;">
										<div class="row no-video-text">
											<div ng-hide="data[8]">You haven't recorded a video profile yet.</div>
											<i class="fa fa-video-camera camera-icon"></i>
										</div>
									</div>
									<div class="row" ng-show="data[8]" style="margin:auto; display:inherit;">
										<video controls src="data:{{data[8].filetype}};base64,{{data[8].base64}}" width="400px" style=""> 
										</video>
									</div>
			  					</div>
							</div>
						</div>
						<div class="row" ng-show="active_tab === 'account_tab'">
							<div class="row">
								<div class="col-xs-4"></div>
								<div class="col-xs-4">
									<div style="border: 2px solid green;border-radius: 5px;opacity: 1;font-size: 20px;color: green;width: 450px;height: 60px;" class="alert alert-warning alert-dismissable close col-xs-6 text-center" data-dismiss="alert" ng-show="account_deactivated" ng-click="account_deactivated = false">	
										Your account has been deactivated!!<br>
									</div>
									<div style="border: 2px solid green;border-radius: 5px;opacity: 1;font-size: 20px;color: green;width: 450px;height: 60px;" class="alert alert-warning alert-dismissable close col-xs-6 text-center" data-dismiss="alert" ng-show="redirection" ng-click="redirection = false">	
										Successful deactivation. Redirecting you to homepage.<br>
									</div>
								</div>
								<div class="col-xs-4"></div>
							</div>
							<div class="row item-body">
								<div class="row item-head">Payment Methods</div>
								<div class="row item-content">
									<div class="row">
										<div class="col-xs-4 added-card-box" ng-repeat="card in data[1]">
											<div class="row">
												<div class="added-card-text">{{card.card_number}}</div>
												<div class="added-card-text">{{card.exp}}</div>
											</div>
											<div class="row" style="margin-top: 40px;">
												<div class="col-xs-9">
													<span class="added-card-text">Default Card</span><i class="fa fa-question-circle question-icon"></i>
												</div>
												<div class="col-xs-3">
													<img src="../images/cards/mastercard.jpg" class="added-card-image">
												</div>
											</div>
										</div>
										<div class="col-xs-4 second-box" data-toggle="modal" data-target=".addPayment-modal-md">
											<div class="row text-center">
												<i class="material-icons add-icon">add</i>
											</div>
											<div class="row text-center">
												<span class="add-text">Add Payment Method</span>
											</div>
										</div>
										<div class="col-xs-4"></div>
									</div>
									<div id="payment_model" class="modal container fade addPayment-modal-md" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
			  							<div class="modal-dialog container modal-md" role="document">
									  		<div class="row payment-box">
									  			<div class="row item-head border">Add New Payment Method<button data-dismiss="modal" class="remove-icon pull-right"><i class="fa fa-remove"></i></button></div>
									  			<div class="row payment-body">
									  				<div class="row bottom-space">
									  					<img src="../images/cards/visa.png" class="card-images">
									  					<img src="../images/cards/mastercard.jpg" class="card-images">
									  					<img src="../images/cards/amex.jpg" class="card-images">
									  					<img src="../images/cards/discover.png" class="card-images">
									  				</div>
									  				<div class="row bottom-space">
									  					<label class="credit-card-text">Card number *</label>
									  					<input type="text" ng-model="cc_no" ui-mask="9999 9999 9999 9999" onkeypress="return isNumber(event)"  minlength="13" maxlength="16" class="credit-card-box">
									  					<div style="color: red; font-size: 14px;" ng-show="no_cc_no">Credit Card number can not be empty !</div>
									  				</div>
									  				<div class="row">
									  					<div class="col-xs-3">
									  						<label class="credit-card-text">Expires on *</label>
									  					</div>
									  					<div class="col-xs-3"></div>
									  					<div class="col-xs-6">
									  						<label class="credit-card-text">Security code *</label>
									  					</div>
									  				</div>
									  				<div class="row bottom-space">
									  					<div class="col-xs-3">
									  						<select ng-model="cc_month" ng-options="x for x in get_month" class="expiry-box">
									  						 	
															</select>
									  					</div>
									  					<div class="col-xs-3">
									  						<select ng-model="cc_year" ng-options="x for x in get_year" class="expiry-box">
									  						 	
															</select>
									  					</div>
									  					<div class="col-xs-6">
									  						<input type="text" ng-model="security_code" onkeypress="return isNumber(event)"  minlength="3" maxlength="4" class="medium-box">
									  					</div>
									  					<div class="row">
									  						<div class="col-xs-12">
									  							<div style="color: red; font-size: 14px;" ng-show="no_cc_month">Please select an expiry month for your card !</div>
									  							<div style="color: red; font-size: 14px;" ng-show="no_cc_year">Please select an expiry year for your card !</div>
									  							<div style="color: red; font-size: 14px;" ng-show="no_security_code">Please enter a security code on back of your card !</div>
									  						</div>
									  					</div>
									  				</div>
									  				<div class="row">
									  					<div class="col-xs-6">
									  						<label class="credit-card-text">First name *</label>
									  					</div>
	
									  					<div class="col-xs-6">
									  						<label class="credit-card-text">Last name *</label>
									  					</div>
									  				</div>
									  				<div class="row bottom-space">
									  					<div class="col-xs-6">
									  						<input type="text" ng-model="first_name" class="medium-box">
									  					</div>
									  					<div class="col-xs-6">
									  						<input type="text" ng-model="last_name" class="medium-box">
									  					</div>
														<div class="row">
									  						<div class="col-xs-12">
									  							<div style="color: red; font-size: 14px;" ng-show="no_first_name">Please enter first name as it appears on your card !</div>
									  							<div style="color: red; font-size: 14px;" ng-show="no_last_name">Please enter last name as it appears on your card !</div>
									  						</div>
									  					</div>
									  				</div>
									  				<div class="row">
									  					<div class="col-xs-6">
									  						<label class="credit-card-text">Postal code</label>
									  					</div>
									  					<div class="col-xs-6">
									  						<label class="credit-card-text">Country</label>
									  					</div>
									  				</div>
									  				<div class="row bottom-space">
									  					<div class="col-xs-6">
									  						<input type="text" ng-model="postal" class="medium-box">
									  					</div>
									  					<div class="col-xs-6">
									  						<select class="country-box">
									  						 	<option>United States</option>
															</select>
									  					</div>
									  					<div class="row">
									  						<div class="col-xs-12">
									  							<div style="color: red; font-size: 14px;" ng-show="no_postal">Please enter your postal code !</div>
									  						</div>
									  					</div>
									  				</div>
									  			</div>
									  			<div class="row payment-footer">
								  					<div class="col-xs-6"></div>
								  					<div class="col-xs-6">
								  						<button class="btn btn-primary cancel-button" data-dismiss="modal">Cancel</button>
								  						<button ng-click="add_card();" class="btn btn-primary add-card-button">Add Card</button>
								  					</div>
								  				</div>
									  		</div>
									  	</div>
									</div>
									<div class="row remember-text">
										<span>Remember: Airbnb will never ask you to wire money. <a href="" class="learn-more">Learn more.</a></span>
									</div>
								</div>
							</div>
						</div>
						<div class="row item-body" ng-show="active_tab === 'account_tab'">
							<div class="row item-head">Cancel Account</div>
							<div class="row item-content" style="padding:20px;">
								<button class="btn btn-primary password-button" ng-click="deactivateUserAccount()">Cancel my account</button>
							</div>
						</div>
						<div class="row" ng-show="active_tab === 'security_tab'">
							<div class="row">
								<div class="col-xs-4"></div>
								<div class="col-xs-4">
									<div style="border: 2px solid green;border-radius: 5px;opacity: 1;font-size: 20px;color: green;width: 450px;height: 60px;" class="alert alert-warning alert-dismissable close col-xs-6 text-center" data-dismiss="alert" ng-show="success_update" ng-click="success_update = false">	
										Your password has been changed!!<br>
									</div>
									<div style="border: 2px solid red;border-radius: 5px;opacity: 1;font-size: 20px;color: red;width: 450px;height: 60px;" class="alert alert-warning alert-dismissable close col-xs-6 text-center" data-dismiss="alert" ng-show="invalidLogin" ng-click="invalidLogin = false">	
										Your password did not match!!<br>
									</div>
								</div>
								<div class="col-xs-4"></div>
							</div>
							<div class="row item-body">
								<div class="row item-head">Change Your Password</div>
								<div class="row item-content" style="padding:20px;">
								<div class="row profile-bottom-space">
										<div class="col-xs-3">
											<span class="profile-left-text">Old Password</span>
										</div>
										<div class="col-xs-9">
											<input ng-model="old_pass" type="password" ng-model="" class="password-box">
										</div>
									</div>
									<div class="row profile-bottom-space">
										<div class="col-xs-3">
											<span class="profile-left-text">New Password</span>
										</div>
										<div class="col-xs-9">
											<input ng-model="new_pass" type="password" class="password-box">
										</div>
									</div>
									<div class="row profile-bottom-space">
										<div class="col-xs-3">
											<span class="profile-left-text">Confirm Password</span>
										</div>
										<div class="col-xs-9">
											<input ng-model="confirm_pass" type="password" class="password-box">
										</div>
									</div>
									<div class="row password-footer">
				  						<div class="col-xs-6"></div>
				  						<div class="col-xs-6">
				  							<button ng-click="updatePass()" class="btn btn-primary password-button">Update Password</button>
				  						</div>
				  					</div>
								</div>
							</div>
						</div>
						<div class="row item-body" ng-show="active_tab === 'security_tab'">
							<div class="row item-head">Login History</div>
							<div class="row item-content" style="padding:20px;">
								<div class="row">
									<div class="col-xs-4">
										<span class="login-history-text">Browser/Device</span>
									</div>
									<div class="col-xs-1"></div>
									<div class="col-xs-4">
										<span class="login-history-text">Location <i class="fa fa-question-circle question-icon location-tooltip" data-toggle="tooltip" data-placement="right" title="Location is approximated."></i></span>
									</div>
									<div class="col-xs-3">
										<span class="login-history-text">Recent Activity</span>
									</div>
								</div>
								<div class="login-first-seperator"></div>
								<div class="row" ng-repeat="history in data[2]">
									<div class="col-xs-4">
										<div class="row"><span class="login-history-details">{{history.user_agent}}</span></div>
									</div>
									<div class="col-xs-1"></div>
									<div class="col-xs-4">
										<span class="login-history-details">San Jose, CA, United States</span>
									</div>
									<div class="col-xs-3">
										<span class="login-history-details">{{history.timestamp | date:'MMM dd, yyyy HH:mm:ss'}}</span>
									</div>
								</div>
								<div class="login-second-seperator"></div>
								<div class="row" style="padding-top:15px;">
									<div class="col-xs-12">
										<span class="profile-left-text">If you see something unfamiliar, <span class="login-green-text">change your password above.</span></span>
									</div>
								</div>
							</div>
						</div>
						<div class="row item-body" ng-show="active_tab === 'properties_tab'">
							<div class="row item-head">Your properties</div>
							<div class="row item-content">
								<div class="row" ng-show="isSameUser">
									<div class="col-xs-3">
										<a ng-click = "showPropertyPage()"><button class="btn btn-primary add-new-button">Post a new property</button></a>
									</div>
									<div class="col-xs-9 no-listing-subtext">Make money by renting out your extra space on Airbnb. You'll also get to meet interesting travelers from around the world!</div>
								</div>
								<div class="row no-listing" ng-show="data[3] === null || data[3].length === 0">You don't have any properties!</div>
								<div class="row listing-activated-body well" ng-repeat="property in data[3]">
									<div class="col-xs-3">
										<img class="listing-image" src="images/city/paris.jpg" alt="No Property Photo" ng-hide="property.photos">
										<img class="listing-image" data-ng-src="data:{{property.photos.photos.filetype}};base64,{{property.photos.photos.base64}}" alt="No Property Photo" ng-show="property.photos">
									</div>
									<div class="col-xs-1"></div>
									<div class="col-xs-8 listing-details">
										<div class="row location-text">Location</div>
										<div class="row">
											<div class="col-xs-12 details-text" style="height:70px;">{{property.st_address}}, {{property.city}}, {{property.state}} {{property.zip}}</div>
										</div>
										<div class="row">
											<div class="col-xs-12 location-text" style="margin-top:25px;">{{property.property_type}}</div>
										</div>
										<div class="row">
											<div class="col-xs-6"></div>
											<div class="col-xs-3" ng-show="isSameUser">
												<a ng-href="/listing?property={{property.property_id}}" target="_blank"><button class="btn btn-primary pull-right activate-button" ng-show="property.active === 1">List This</button></a>
											</div>
											<div class="col-xs-3" ng-show="isSameUser">
												<button ng-click="propertyDeactivate(property.property_id)" class="btn btn-primary deactivate-button" ng-show="property.active === 1">Deactivate</button>
												<button ng-click="propertyActivate(property.property_id)" class="btn btn-primary activate-button" ng-hide="property.active === 1">Activate</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="row item-body" ng-show="active_tab === 'listings_tab'">
							<div class="row item-head">Your listings</div>
							<div class="row item-content">
								<div class="row" ng-show="isSameUser">
									<div class="col-xs-3">
										<button class="btn btn-primary add-new-button" ng-click="active_tab = 'properties_tab'">Post a new listing</button>
									</div>
									<div class="col-xs-9 no-listing-subtext" style="margin-left: -15px;!important">Make money by renting out your extra space on Airbnb. You'll also get to meet interesting travelers from around the world!</div>
								</div>
								<div class="row no-listing" ng-show="data[4] === null || data[4].length === 0">You don't have any listings!</div>
								<div class="row listing-activated-body well" ng-repeat="listing in data[4]">
									<div class="col-xs-3">
										<ng-map id="{{listing.listing_id}}" zoom="14" center="[{{listing.latitude + 0.0050}}, {{listing.longitude - 0.00500}}]" disableDefaultUI="true" style="height:200px; width:100%; margin:0px;">
											<custom-marker position="[{{listing.latitude}}, {{listing.longitude}}]" animation="Animation.BOUNCE" >
													<div class="cm">
														<b style="color:white;">${{listing.daily_price}}</b> <span class="glyphicon glyphicon-flash" style="color:yellow;" ng-hide="listing.is_bid === 1"></span>
													</div>
											</custom-marker>
										</ng-map>
									</div>
									<div class="col-xs-1"></div>
									<div class="col-xs-8 listing-details">
										<div class="row listing-title">{{listing.title}}</div>
										<div class="row">
											<div class="col-xs-12 details-text" ng-hide="listing.is_bid === 1"><i class="fa fa-bolt instant-book-icon"></i>Instant Booking</div>
										</div>
										<div class="row">
											<div class="col-xs-12 details-text"><i class="fa fa-dollar dollar-symbol"></i>{{listing.daily_price}}</div>
										</div>
										<div class="row from-to-row">From - To</div>
										<div class="row">
											<div class="col-xs-7 details-text">{{listing.start_date | date:'MM/dd/yyyy'}} - {{listing.end_date | date:'MM/dd/yyyy'}}</div>
										</div>
										<div class="row">
											<div class="col-xs-6 pull-right" ng-show="isSameUser">
												<button class="btn btn-primary deactivate-button" ng-click="listingDeactivate(listing.listing_id)" ng-show="listing.listing_active === 1 && listing.property_active === 1">Deactivate</button>
												<a ng-href="/viewListing?listing={{listing.listing_id}}" target="_blank"><button class="btn btn-primary activate-button" ng-show="listing.listing_active === 1 && listing.property_active === 1" style="margin-right: 20px;">View Listing</button></a>
												<div class="row inactive-text" ng-click="listingActivate(listing.listing_id)" ng-hide="listing.listing_active === 1 && listing.property_active === 1">Inactive</div>
											</div>
											<div class="col-xs-6 pull-right" ng-hide="isSameUser">
												<a ng-href="/viewListing?listing={{listing.listing_id}}" target="_blank"><button class="btn btn-primary activate-button" ng-show="listing.listing_active === 1 && listing.property_active === 1">Book Here</button></a>
												<div class="row inactive-text" ng-click="listingActivate(listing.listing_id)" ng-hide="listing.listing_active === 1 && listing.property_active === 1">Inactive</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="row item-body" ng-show="active_tab === 'trips_tab'">
							<div class="row item-head">Your trips</div>
							<div class="row item-content">
								<div class="row no-listing">You don't have any trips!</div>
								<div class="row listing-activated-body well" ng-repeat="trip in data[5]">
									<div class="col-xs-3">
										<ng-map id="{{trip.listing_id}}" zoom="14" center="[{{trip.latitude + 0.0050}}, {{trip.longitude - 0.00500}}]" disableDefaultUI="true" style="height:200px; width:100%; margin:0px;">
											<custom-marker position="[{{trip.latitude}}, {{trip.longitude}}]" animation="Animation.BOUNCE" >
													<div class="cm">
														<b style="color:white;">${{trip.trip_amount}}</b>
													</div>
											</custom-marker>
										</ng-map>
									</div>
									<div class="col-xs-1"></div>
									<div class="col-xs-8 listing-details">
										<div class="row location-text">{{trip.title}} @</div>
										<div class="row">
											<div class="col-xs-12 details-text">{{trip.st_address}}, {{trip.city}}, {{trip.state}} {{trip.zip}}</div>
										</div>
										<div class="row" style="margin-top:20px;">
											<div class="col-xs-9 location-text">Check In - Check Out</div>
											<div class="col-xs-3 location-text" style="padding-left:30px;">Daily Price</div>
										</div>
										<div class="row">
											<div class="col-xs-9 details-text">{{trip.checkin | date:'MM/dd/yyyy'}} - {{trip.checkout | date:'MM/dd/yyyy'}}</div>
											<div class="col-xs-3 details-text" style="padding-left:30px;"><i class="fa fa-dollar dollar-symbol"></i>{{trip.trip_amount}}</div>
										</div>
										<div class="row location-text" style="margin-top:15px;">Rate host</div>
										<div class="row">
											<div star-rating ng-model="trip.host_rating" max="5" on-rating-select="updateHostRating(trip.trip_id, rating)" class="col-xs-6"></div>
											<div class="col-xs-6"><a href="/getBill?receipt={{trip.receipt_id}}" target="_self"><button class="btn btn-primary deactivate-button" style="margin-top: -5px;">View bill</button></a></div>
										</div>
										<div class="row location-text" style="margin-top:15px;">Review host</div>
										<div class="row" style="margin-top:15px;">
					  						<div class="btn btn-primary review-photo-button" style="margin-top: 0px;">
												<span style="font-weight:bold;">Upload images</span>
												<input type="file" ng-model="trip.review_photos" class="review-photo" name="photos" base-sixty-four-input multiple accept="image/*" minsize="500" required minnum="1">
											</div>
										</div>
										<div class="row" ng-hide="trip.review_photos.length === 0">
									      	<div ng-repeat="photo in trip.review_photos" class="col-xs-4" style="padding: 10px;">
										        <img data-ng-src="data:{{photo.filetype}};base64,{{photo.base64}}" style="height: 180px; width: 100%; border-radius: 4px;"/>
										    </div>
									    </div>
										<div class="row">
											<div class="col-xs-10">
												<input type="text" class="form-control review-box curve-border" placeholder="Review" ng-model="trip.host_review">
											</div>	
											<div class="col-xs-2">
					  							<button class="pull-right btn btn-primary submit-button" ng-click="updateHostReview(trip.trip_id, trip.host_review, trip.review_photos)">Submit</button>
					  						</div>	
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="row item-body" ng-show="active_tab === 'hostings_tab'">
							<div class="row item-head">Your hostings</div>
								<div ng-show = "data[6].length === 0" class="row no-listing">You don't have any hostings!</div>
								<div class="row item-content" ng-repeat="hosting in data[6]">
									<div class="row listing-activated-body well">
										<div class="col-xs-3">
											<ng-map id="{{hosting.listing_id}}" zoom="14" center="[{{hosting.latitude + 0.0050}}, {{hosting.longitude - 0.00500}}]" disableDefaultUI="true" style="height:200px; width:100%; margin:0px;">
												<custom-marker position="[{{hosting.latitude}}, {{hosting.longitude}}]" animation="Animation.BOUNCE" >
														<div class="cm">
															<b style="color:white;">${{hosting.trip_amount}}</b>
														</div>
												</custom-marker>
											</ng-map>
										</div>
										<div class="col-xs-1"></div>
										<div class="col-xs-8 listing-details">
											<div class="row location-text">{{hosting.f_name}} {{hosting.l_name}} @</div>
											<div class="row">
												<div class="col-xs-12 details-text">{{hosting.st_address}}, {{hosting.city}}, {{hosting.state}} {{hosting.zip}}</div>
											</div>
											<div class="row" style="margin-top:20px;">
												<div class="col-xs-9 location-text">Check In - Check Out</div>
												<div class="col-xs-3 location-text" style="padding-left:30px;">Guests</div>
											</div>
											<div class="row">
												<div class="col-xs-9 details-text">{{hosting.checkin | date:'MM/dd/yyyy HH:mm'}} - {{hosting.checkout | date:'MM/dd/yyyy HH:mm'}}</div>
												<div class="col-xs-3 details-text" style="padding-left:30px;">{{hosting.no_of_guests}}</div>
											</div>
											<div class="row location-text" style="margin-top:15px;">Rate traveler</div>
											<div star-rating ng-model="hosting.traveller_rating" max="5" on-rating-select="updateTravellerRating(hosting.trip_id, rating)"></div>
											<div class="row location-text" style="margin-top:15px;">Review traveler</div>
											<div class="row" style="margin-top:15px;">
					  							<div class="btn btn-primary review-photo-button" style="margin-top: 0px;">
													<span style="font-weight:bold;">Upload images</span>
													<input type="file" class="review-photo" ng-model="hosting.review_photos" name="photos" base-sixty-four-input multiple accept="image/*" minsize="500" required minnum="1">
												</div>
											</div>
											<div class="row" ng-hide="hosting.review_photos.length === 0">
										      	<div ng-repeat="photo in hosting.review_photos[0].photo" class="col-xs-4" style="padding: 10px;">
											        <img data-ng-src="data:{{photo.filetype}};base64,{{photo.base64}}" style="height: 180px; width: 100%; border-radius: 4px;"/>
											    </div>
										    </div>
											<div class="row">
												<div class="col-xs-10">
													<input type="text" class="form-control review-box curve-border" placeholder="Review" ng-model="hosting.traveller_review">
												</div>	
												<div class="col-xs-2">
						  							<button class="pull-right btn btn-primary submit-button" ng-click="updateTravellerReview(hosting.trip_id, hosting.traveller_review, hosting.review_photos)">Submit</button>
						  						</div>	
											</div>							
										</div>
									</div>
								</div>
						</div>
						<div class="row item-body" ng-hide="active_tab !== 'host_tab'">
							<div class="row item-head">Dashboard</div>

							<div class="row item-content">

								<div class="col-xs-6">
									
									<div class="panel panel-default">
										
										<div class="panel-heading text-center">
											<span style="font-size:16px; font-color: #2A3F54;">Clicks Per Page</span>
										</div>
										<div class="panel-body text-center">

											
											
											<div class="row" ng-controller="hostController">
								
												<nvd3 options="pieOptions" data="cppPieData" ng-show="true"></nvd3>

											</div>

											<div class="row" ng-controller="hostController">
								
												<nvd3 options="barOptions" data="cppBarData" ng-show="true"></nvd3>

											</div>
										
										</div>
									
									</div>

								</div>


								<div class="col-xs-6">
									
									<div class="panel panel-default">
										
										<div class="panel-heading text-center">
											<span style="font-size:16px; font-color: #2A3F54;">Property Clicks</span>
										</div>
										<div class="panel-body text-center">

											
											<div class="row" ng-controller="hostController">
								
												<nvd3 options="pieOptions" data="pcPieData" ng-show="true"></nvd3>

											</div>

											<div class="row" ng-controller="hostController">
								
												<nvd3 options="barOptions" data="pcBarData" ng-show="true"></nvd3>

											</div>
										
										</div>
									
									</div>

								</div>

								<div class="col-xs-6">
									
									<div class="panel panel-default">
										
										<div class="panel-heading text-center">
											<span style="font-size:16px; font-color: #2A3F54;">Least Seen Areas / Properties</span>
										</div>
										<div class="panel-body text-center">

											
											
											<div class="row" ng-controller="hostController">
								
												<nvd3 options="pieOptions" data="lsPieData" ng-show="true"></nvd3>

											</div>

											<div class="row" ng-controller="hostController">
								
												<nvd3 options="barOptions" data="lsBarData" ng-show="true"></nvd3>

											</div>
										
										</div>
									
									</div>

								</div>


								<div class="col-xs-6">
									
									<div class="panel panel-default">
										
										<div class="panel-heading text-center">
											<span style="font-size:16px; font-color: #2A3F54;">Property Reviews</span>
										</div>
										<div class="panel-body text-center">

											
											
											<div class="row" ng-controller="hostController">
								
												<nvd3 options="pieOptions" data="prPieData" ng-show="true"></nvd3>

											</div>

											<div class="row" ng-controller="hostController">
								
												<nvd3 options="barOptions" data="prBarData" ng-show="true"></nvd3>

											</div>
										
										</div>
									
									</div>

								</div>

								<div class="col-xs-6">
									
									<div class="panel panel-default">
										
										<div class="panel-heading text-center">
											<span style="font-size:16px; font-color: #2A3F54;">User Groups</span>
										</div>
										<div class="panel-body text-center">

											
											<div class="row" ng-controller="hostController">
								
												<nvd3 options="pieOptions" data="ugPieData" ng-show="true"></nvd3>

											</div>

											<div class="row" ng-controller="hostController">
								
												<nvd3 options="barOptions" data="ugBarData" ng-show="true"></nvd3>

											</div>
										
										</div>
									
									</div>

								</div>

								<div class="col-xs-6">
									
									<div class="panel panel-default">
										
										<div class="panel-heading text-center">
											<span style="font-size:16px; font-color: #2A3F54;">Bids Information</span>
										</div>
										<div class="panel-body text-center">
											
											<div class="row" ng-controller="hostController">
								
												<nvd3 options="pieOptions" data="biPieData" ng-show="true"></nvd3>

											</div>

											<div class="row" ng-controller="hostController">
								
												<nvd3 options="barOptions" data="biBarData" ng-show="true"></nvd3>

											</div>
										
										</div>
									
									</div>

								</div>

								
	

							</div>
						</div>
					</div>
					<div class="col-xs-1"></div>
				</div>
			</div>
		</div>
	</main>
	<footer><% include ./footer %></footer>
	</body>
</html>